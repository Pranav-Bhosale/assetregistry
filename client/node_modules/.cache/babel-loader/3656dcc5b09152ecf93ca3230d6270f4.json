{"ast":null,"code":"var _jsxFileName = \"/home/pranav-bhosale/Desktop/assetregistry/client/src/pages/AddFaculty.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Footer from \"../components/Footer\";\nimport Navbar from \"../components/Navbar\";\nimport { Row } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport firebaseConfig from \"../firebaseconfig.js\";\nimport { getDatabase, ref, set, onValue } from \"firebase/database\";\nimport { getAuth, createUserWithEmailAndPassword, sendEmailVerification, browserSessionPersistence, setPersistence } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\n\nfunction ViewAsset() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [text, settext] = useState(\"\");\n  const [passConf, setPassConf] = useState(\"\");\n\n  function handleLogin(e) {\n    settext(null);\n    e.preventDefault(e);\n\n    if (email && pass && passConf) {\n      if (pass === passConf) {\n        createUserWithEmailAndPassword(auth, email, pass).then(userCredential => {\n          const user = userCredential.user;\n          const uiduser = user.uid;\n          sendEmailVerification(user).then(() => {\n            set(ref(database, '/faculty/' + uiduser), \"uid\").then(() => {\n              settext(\"Faculty Added Successfully!...Email verification link has been sent to their email\");\n            }).catch(error => {\n              settext(error);\n            });\n          });\n        }).catch(error => {\n          settext(error.code);\n        });\n      } else {\n        settext(\"Password not matched!\");\n      }\n    } else {\n      settext(\"Please Enter Complete Details!\");\n    } //   signInWithEmailAndPassword(auth, email, pass)\n    // .then((userCredential) => {\n    //     return onValue(ref(database, '/admin/' + userCredential.user.uid), (snapshot) => {\n    //       if(snapshot.exists())\n    //       {\n    //         if(auth.currentUser.emailVerified)\n    //         {\n    //           settext(\"Success!!\");\n    //           setRedirect(true);\n    //         }\n    //         else{\n    //           sendEmailVerification(auth.currentUser)\n    //           .then(() => {\n    //             settext(\"Verify your Email to sign in..Email verification link has been sent to registered Email\");\n    //           });\n    //         }\n    //       }\n    //       else{\n    //         settext(\"You are not a ADMIN!!\");\n    //       }\n    //     }, {\n    //       onlyOnce: true\n    //     });\n    // })\n    // .catch((error) => {\n    //   settext(\"Failed !! \\n\"+error.code);\n    // });\n    // })\n    // .catch((error) => {\n    //   const errorCode = error.code;\n    //   settext(\"Session Error \"+errorCode);\n    // }); \n\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navfootpad\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: 0,\n        padding: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: 'center',\n          paddingLeft: '0',\n          paddingRight: '0',\n          marginRight: '0'\n        },\n        children: \"Add Faculty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          margin: 0,\n          padding: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"30px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          spellCheck: false,\n          type: \"email\",\n          onChange: e => setEmail(e.target.value),\n          className: \"email\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"password\",\n          onChange: e => setPass(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"password\",\n          onChange: e => setPassConf(e.target.value),\n          placeholder: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"lanButton\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewAsset, \"GQ+NqjaYb9ydkDz5etCg5yWr94g=\");\n\n_c = ViewAsset;\nexport default ViewAsset;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewAsset\");","map":{"version":3,"sources":["/home/pranav-bhosale/Desktop/assetregistry/client/src/pages/AddFaculty.jsx"],"names":["React","Footer","Navbar","Row","useState","initializeApp","firebaseConfig","getDatabase","ref","set","onValue","getAuth","createUserWithEmailAndPassword","sendEmailVerification","browserSessionPersistence","setPersistence","app","database","auth","ViewAsset","email","setEmail","pass","setPass","text","settext","passConf","setPassConf","handleLogin","e","preventDefault","then","userCredential","user","uiduser","uid","catch","error","code","margin","padding","textAlign","paddingLeft","paddingRight","marginRight","marginTop","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Footer from \"../components/Footer\";\nimport Navbar from \"../components/Navbar\";\nimport { Row } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport firebaseConfig from \"../firebaseconfig.js\"\nimport { getDatabase, ref, set ,onValue} from \"firebase/database\";\nimport { getAuth,createUserWithEmailAndPassword,sendEmailVerification,browserSessionPersistence,setPersistence } from \"firebase/auth\";\nconst app = initializeApp(firebaseConfig);\n\nconst database = getDatabase(app);\nconst auth = getAuth();\n\nfunction ViewAsset() {\n \n\n    const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [text, settext] = useState(\"\");\n  const [passConf, setPassConf] = useState(\"\");\n\n\n  function handleLogin(e){\n    settext(null);\n    e.preventDefault(e);\n        if(email&&pass&&passConf)\n        {\n            if(pass===passConf)\n            {\n                createUserWithEmailAndPassword(auth, email, pass)\n                .then((userCredential) => {\n                  const user = userCredential.user;\n                  const uiduser=user.uid;\n                  sendEmailVerification(user)\n                .then(() => {\n                        set(ref(database, '/faculty/'+uiduser),\"uid\").then(() => {\n                         settext(\"Faculty Added Successfully!...Email verification link has been sent to their email\")\n                        })\n                        .catch((error) => {\n                           settext(error);\n                        });      \n                      \n                      })\n\n                 }).catch((error) => {\n                  settext(error.code);\n               });      \n             \n            }\n            else\n            {\n                settext(\"Password not matched!\");  \n            }\n        }\n        else{\n            settext(\"Please Enter Complete Details!\");  \n        }\n    //   signInWithEmailAndPassword(auth, email, pass)\n    // .then((userCredential) => {\n    \n    //     return onValue(ref(database, '/admin/' + userCredential.user.uid), (snapshot) => {\n    //       if(snapshot.exists())\n    //       {\n            \n    //         if(auth.currentUser.emailVerified)\n    //         {\n    //           settext(\"Success!!\");\n    //           setRedirect(true);\n    //         }\n    //         else{\n    //           sendEmailVerification(auth.currentUser)\n    //           .then(() => {\n    //             settext(\"Verify your Email to sign in..Email verification link has been sent to registered Email\");\n    //           });\n    //         }\n            \n            \n    //       }\n    //       else{\n    //         settext(\"You are not a ADMIN!!\");\n    //       }\n        \n    //     }, {\n    //       onlyOnce: true\n    //     });\n    // })\n    // .catch((error) => {\n    //   settext(\"Failed !! \\n\"+error.code);\n    // });\n      \n    // })\n    // .catch((error) => {\n    //   const errorCode = error.code;\n    //   settext(\"Session Error \"+errorCode);\n    // }); \n  }\n   \n  return (\n    <div className=\"navfootpad\">\n        <Navbar />\n        <Row style={{ margin: 0, padding: 0, }}>\n        <h1 style={{ textAlign: 'center', paddingLeft: '0', paddingRight: '0', marginRight: '0' }}>Add Faculty</h1>\n        <hr style={{ margin: 0, padding: 0, }} />\n      </Row>\n        <div style={{textAlign:\"center\", marginTop:\"30px\"}}>\n  <form onSubmit={handleLogin}>\n    <input  spellCheck={false} type=\"email\" onChange={(e) => setEmail(e.target.value)} className=\"email\" placeholder=\"Email\" />\n    <br/>\n    <input type=\"password\" className=\"password\" onChange={(e) => setPass(e.target.value)} placeholder=\"Password\" />\n    <br />\n    <input type=\"password\" className=\"password\" onChange={(e) => setPassConf(e.target.value)} placeholder=\"Confirm Password\" />\n    <br/>\n    <button type=\"submit\" className=\"lanButton\" >Sign Up</button>\n    <br/>\n     <p>{text}</p> \n  </form>\n    </div>\n        <Footer />\n    </div>\n  );\n}\n\nexport default ViewAsset;"]},"metadata":{},"sourceType":"module"}